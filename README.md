# 色彩合成计算器

这是一个用于RGB三基色合成计算的网页应用程序，基于CIE1931色度图。

## 功能特点

1. **模式1：计算混合结果**
   - 输入RGB三基色的色坐标(x,y)和光通量值(Lv)
   - 计算三基色混合后的合成色坐标和光通量
   - 通过"+"和"-"按钮精确调整光通量值
   - 支持键盘方向键调整光通量值

2. **模式2：计算光通量需求**
   - 输入合成目标色的色坐标(x,y)和光通量值(Lv)
   - 输入RGB三基色的色坐标(x,y)
   - 计算达到目标色所需的RGB三基色各自的光通量值

3. **交互式CIE1931色度图**
   - 在色度图上直观地显示三基色和目标色的位置
   - 可以直接在图上拖动点来调整色坐标
   - 实时显示RGB色域范围
   - 可调整步长大小，适应不同精度需求

4. **预设管理功能**
   - 保存常用色彩配方为预设
   - 快速切换不同预设配置
   - 内置多个常用色彩预设

## 使用方法

1. 在浏览器中打开`index.html`文件
2. 选择需要的计算模式：
   - 模式1：计算混合结果
   - 模式2：计算光通量需求
3. 输入相应的参数或在色度图上直接拖动点
4. 使用"+"和"-"按钮或键盘调整光通量值：
   - 上/右方向键：增加所选颜色的光通量
   - 下/左方向键：减少所选颜色的光通量
   - PageUp/PageDown：调整步长大小
   - 按住Shift键+方向键可以进行更精细的调整
5. 点击计算按钮获取结果

## 快捷键

- 方向键（上/右、下/左）：增加/减少所选颜色的光通量
- PageUp：增加步长值
- PageDown：减少步长值
- Shift + 方向键：使用更小的步长进行精细调整

## 注意事项

- 默认目标色为白色(x=0.3333, y=0.3333)
- 在模式2中，如果目标色不在RGB三角形内部，计算结果可能包含负值，这表示无法通过三基色合成该目标色
- 所有色坐标(x,y)的有效范围为0-1
- 光通量上限值会根据输入的光通量自动调整（默认为输入值的1.5倍，最小为30）

## 参考资料

- CIE1931色度图是国际照明委员会(CIE)制定的色彩标准
- 计算基于色度学和色彩混合原理 